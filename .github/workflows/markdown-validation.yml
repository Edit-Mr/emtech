name: 🔍文章格式檢查

on:
    push:
        branches: [main]
    pull_request:
        branches: [main]

jobs:
    validate-markdown:
        name: 📰檢查 Markdown 檔案
        runs-on: ubuntu-latest
        steps:
            - name: Checkout repository
              uses: actions/checkout@v4
            - name: Validate Formats
              run: |
                  chmod +x .github/workflows/markdown-validation.sh
                  .github/workflows/markdown-validation.sh
                  if [ -f ".github/workflows/markdown-validation.sh.output" ]; then
                      echo "❌ Found issues in Markdown validation:"
                      cat .github/workflows/markdown-validation.sh.output
                      exit 1
                  fi
            - name: Validate Winson
              run: |
                  chmod +x .github/workflows/winston-validation.sh
                  .github/workflows/winston-validation.sh
                  if [ -f ".github/workflows/winston-validation.sh.output" ]; then
                      echo "❌ Found issues in Winston validation:"
                      cat .github/workflows/winston-validation.sh.output
                      exit 1
                  fi
